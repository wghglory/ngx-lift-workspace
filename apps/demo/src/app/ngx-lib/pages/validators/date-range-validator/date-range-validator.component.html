<cll-page-container [title]="'dateRangeValidator'" customClass="space-y-9">
  <!-- Overview -->
  <p>
    The <code>dateRangeValidator</code> is a custom validator that validates a date falls within a specified range. It
    supports validation for both date-only values and date-time values, with configurable inclusive/exclusive boundaries
    and optional time comparison.
  </p>

  <!-- Examples Section -->
  <section class="space-y-4">
    <h2>Examples</h2>

    <article class="space-y-3">
      <h3>Example 1: Date Range Validation</h3>
      <p>
        Validate that a date falls between a minimum and maximum date. This configuration ensures that the selected date
        must fall between September 1st, 2024, and September 15th, 2024 (exclusive), ignoring the time components. Sep.
        15th is not valid since <code>maxInclusive</code> is false.
      </p>
      <app-code-block [code]="dateExampleCode" lang="typescript" />
    </article>

    <article class="space-y-3">
      <h3>Example 2: Select a Future Date</h3>
      <p>
        Below example allows to select a future date and include today. To include the <code>minDate</code>, set
        <code>minInclusive</code> to <code>true</code>.
      </p>
      <form clrForm [formGroup]="dateForm" clrLabelSize="3">
        <clr-input-container class="!mt-1">
          <label for="date-expires">Expiration Date (Raw HTML Input)</label>
          <input
            type="date"
            id="date-expires"
            class="w-[10rem]"
            clrInput
            [formControl]="dateForm.controls.expires"
            [min]="todayInISO"
          />
          <clr-control-error *clrIfError="'minDate'; error as minDate">
            The date cannot be earlier than {{ minDate }}
          </clr-control-error>
        </clr-input-container>

        <clr-date-container>
          <label class="clr-required-mark" for="date-future-days">Future 5 Days (Clarity Date Input)</label>
          <input
            type="date"
            id="date-future-days"
            clrDate
            [formControl]="dateForm.controls.futureDays"
            required
            [min]="tomorrowInISO"
            [max]="fiveDaysLaterInISO"
          />
          <clr-control-error *clrIfError="'required'">Required</clr-control-error>
          <clr-control-error *clrIfError="'invalidDate'">The date is invalid</clr-control-error>
          <clr-control-error *clrIfError="'maxDate'; error as maxDate">
            The date cannot be later than {{ maxDate }}
          </clr-control-error>
          <clr-control-error *clrIfError="'minDate'; error as minDate">
            The date cannot be earlier than {{ minDate }}
          </clr-control-error>
          <clr-control-error *clrIfError="'max'">The date is too late (clarity validation)</clr-control-error>
          <clr-control-error *clrIfError="'min'">The date is too early (clarity validation)</clr-control-error>
        </clr-date-container>
      </form>
      <app-code-block [code]="dateCode" lang="typescript" />
      <cll-callout>
        We could use the <code>min</code> and <code>max</code> pattern to validate the range. However, this validation
        will not fail when typing a number like 12 or a string like 12hello.
      </cll-callout>
    </article>

    <article class="space-y-3">
      <h3>Example 3: Date and Time Range Validation</h3>
      <p>
        To validate both the date and the time, set <code>compareTime</code> to true. With the below configuration, the
        selected date and time must fall between September 1st, 2024, at noon UTC, and September 2nd, 2024, at noon UTC,
        considering the time components.
      </p>
      <app-code-block [code]="dateTimeExampleCode" lang="typescript" />
      <form clrForm [formGroup]="dateTimeForm">
        <clr-input-container class="!mt-1">
          <label class="clr-required-mark" for="datetime-expires">Expiration Date</label>
          <input
            type="datetime-local"
            id="datetime-expires"
            clrInput
            [formControl]="dateTimeForm.controls.expires"
            required
            [min]="minTimestamp"
            [max]="maxTimestamp"
          />
          <clr-control-error *clrIfError="'required'">Required</clr-control-error>
          <clr-control-error *clrIfError="'minDate'; error as minDate">
            The date time cannot be earlier than {{ minDate }}
          </clr-control-error>
          <clr-control-error *clrIfError="'maxDate'; error as maxDate">
            The date time cannot be later than {{ maxDate }}
          </clr-control-error>
        </clr-input-container>
      </form>
      <app-code-block [code]="dateTimeCode" lang="typescript" />
    </article>
  </section>

  <!-- API Reference -->
  <section class="space-y-4">
    <h2>API Reference</h2>
    <div class="space-y-4">
      <div class="space-y-3">
        <h3>dateRangeValidator</h3>
        <p>Validates that a date falls within a specified range.</p>

        <h4>Signature</h4>
        <app-code-block [code]="signatureCode" lang="typescript" />

        <h4>Parameters</h4>
        <ul class="list-disc space-y-2 ml-6">
          <li class="space-y-1">
            <code>options: DateRangeOptions</code>
            <div class="ml-4">
              <p class="text-sm !mt-1">Configuration options for date range validation:</p>
              <ul class="list-disc space-y-1 ml-6 mt-1 text-sm">
                <li>
                  <code>minDate?: Date | string</code> - The minimum allowed date. If provided, the selected date must
                  be equal to or later than this date.
                </li>
                <li>
                  <code>maxDate?: Date | string</code> - The maximum allowed date. If provided, the selected date must
                  be equal to or earlier than this date.
                </li>
                <li>
                  <code>minInclusive?: boolean</code> - Whether the comparison for the minimum date can include the
                  exact date. Defaults to <code>false</code>.
                </li>
                <li>
                  <code>maxInclusive?: boolean</code> - Whether the comparison for the maximum date can include the
                  exact date. Defaults to <code>false</code>.
                </li>
                <li>
                  <code>compareTime?: boolean</code> - Whether to compare the time as well. If <code>true</code>,
                  comparisons will include the time components of the date; if <code>false</code>, the time parts will
                  be ignored. Defaults to <code>false</code>.
                </li>
              </ul>
            </div>
          </li>
        </ul>

        <h4>Returns</h4>
        <p class="text-sm">A validator function that can be used with Angular Reactive Forms.</p>

        <h4>Validation Errors</h4>
        <ul class="list-disc space-y-1 ml-6 text-sm">
          <li><code>invalidDate</code> - Returned when the date is invalid (e.g., "2023-13-01" or "hello world")</li>
          <li>
            <code>minDate</code> - Returned when the selected date is earlier than or equal to the minimum allowed date.
            The error value is the minimum allowed date formatted as an ISO string.
          </li>
          <li>
            <code>maxDate</code> - Returned when the selected date is later than or equal to the maximum allowed date.
            The error value is the maximum allowed date formatted as an ISO string.
          </li>
        </ul>
      </div>
    </div>
  </section>
</cll-page-container>
